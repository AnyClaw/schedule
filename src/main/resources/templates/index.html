<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="card-style.css">
    <link rel="stylesheet" href="panel-style.css">
     <style>
        body {
            background: rgb(37, 37, 37);
        }
     </style>
</head>
<body>
    <form action="/" method="post">
        <div class="panel-parent">
            <ul class="panel" style="padding: 0;">
                <li>
                    <button type="submit" name="value" value="-">&lsaquo;</button>
                </li>
                <li class="panel-text">
                    <div id="weekInfo"></div>
                    <script>
                        var weekNumber = "[[${weekNumber}]]";
                        document.getElementById("weekInfo").innerHTML += `10.02 - 16.02<br>${weekNumber} неделя`;
                    </script>
                </li>
                <li>
                    <button type="submit" name="value" value="+">&rsaquo;</button>
                </li>
            </ul>
        </div>
    </form>

    <output id="schedule"></output>

    <script>
        var page = document.getElementById("schedule")

        var lessonsNumber = "[[${number}]]".replace('[', '').replace(']', '').split(', ');
        var subjects = "[[${subjects}]]".replace('[', '').replace(']', '').split(', ');
        var teachers = "[[${teachers}]]".replace('[', '').replace(']', '').split(', ');
        var lessonsTypes = "[[${lessonsTypes}]]".replace('[', '').replace(']', '').split(', ');
        var homeworks = "[[${homeworks}]]".replace('[', '').replace(']', '').split(', ');
        var times = "[[${times}]]".replace('[', '').replace(']', '').split(', ');
        var weekNumber = "[[${weekNumber}]]";

        for (var i = 0; i < subjects.length; i++) {
            page.innerHTML += `
                <div class="parent">
                    <div class="content">
                        <ul class="day-info">
                            <li>
                                <div class="text">
                                    <div class="subject">${lessonsNumber[i]}.</div>
                                </div>
                            </li>

                            <li>
                                <div class="text">
                                    <div class="subject">${subjects[i]} <br> (${lessonsTypes[i]})</div>
                                    <div class="additions">${teachers[i]}</div>
                                    <div class="additions homework">${homeworks[i] != "" ? "ДЗ: " + homeworks[i] : ""}</div>
                                </div>
                            </li>
                            
                            <li>
                                <div class="text">
                                    <div class="time">${times[lessonsNumber[i] - 1]}</div>
                                </div>
                            </li>
                        </ul>   
                    </div>
                </div>
            `
        }
    </script>
</html>